<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="board.chat.ChatMapper">
    <select id="selectMessages" parameterType="int" resultType="board.chat.ChatDto">
        select * from (
        select * from t_chat order by created_dt desc limit ${num}
        ) a order by a.created_dt
    </select>

    <insert id="insertMessage" parameterType="board.chat.ChatDto">
        insert into t_chat (type, message, sender, created_dt)
        values (#{type}, #{message}, #{sender}, #{createdDt})
    </insert>
</mapper>
